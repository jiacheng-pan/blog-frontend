<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>CSS@3继承优先级 | Jackie&#39;Front End Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CSS的继承、优先级、层叠CSS的继承有些元素的样式是可以被子元素继承的，大概包括这些，其中橙色的是文本相关的，蓝色的是列表相关的：  azimuth border-collapse border-spacing caption-side color cursor direction elevation empty-cells font-family font-size font-style fo">
<meta name="keywords" content="前端,笔记,CSS">
<meta property="og:type" content="article">
<meta property="og:title" content="CSS@3继承优先级">
<meta property="og:url" content="https://jiacheng-pan.github.io/2016/09/14/CSS@3继承优先级/index.html">
<meta property="og:site_name" content="Jackie&#39;Front End Blog">
<meta property="og:description" content="CSS的继承、优先级、层叠CSS的继承有些元素的样式是可以被子元素继承的，大概包括这些，其中橙色的是文本相关的，蓝色的是列表相关的：  azimuth border-collapse border-spacing caption-side color cursor direction elevation empty-cells font-family font-size font-style fo">
<meta property="og:locale" content="Chinese">
<meta property="og:image" content="http://jackie-image.oss-cn-hangzhou.aliyuncs.com/16-9-26/20024983.jpg">
<meta property="og:updated_time" content="2018-11-30T03:02:51.225Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CSS@3继承优先级">
<meta name="twitter:description" content="CSS的继承、优先级、层叠CSS的继承有些元素的样式是可以被子元素继承的，大概包括这些，其中橙色的是文本相关的，蓝色的是列表相关的：  azimuth border-collapse border-spacing caption-side color cursor direction elevation empty-cells font-family font-size font-style fo">
<meta name="twitter:image" content="http://jackie-image.oss-cn-hangzhou.aliyuncs.com/16-9-26/20024983.jpg">
  
  
    <link rel="icon" href="http://jackie-image.oss-cn-hangzhou.aliyuncs.com/avatar.png">
  
  <link rel="stylesheet" href="/blog-frontend/css/typing.css">
  <link rel="stylesheet" href="/blog-frontend/css/donate.css">
  
</head>

  
    
      <body>
    
  
      <div id="container" class="container">
        <article id="post-CSS@3继承优先级" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
    <div class="mobile-nav">
      <h1 class="nickname">Jackie Anxis</h1>
      <a id="menu">
        &#9776; Menu
      </a>
    </div>
    
        <nav id="main-nav" class="main-nav nav-left">
    
    
      <a class="main-nav-link" href="https://jiacheng-pan.github.io">Home</a>
    
      <a class="main-nav-link" href="https://jiacheng-pan.github.io/blog-frontend">FrontEnd</a>
    
      <a class="main-nav-link" href="https://jiacheng-pan.github.io/blog-cs229">MLcs229</a>
    
      <a class="main-nav-link" href="https://jiacheng-pan.github.io/blog-papers">PaperReading</a>
    
      <a class="main-nav-link" href="https://github.com/JackieAnxis">Github</a>
    
      <a class="main-nav-link" href="https://jiacheng-pan.github.io/blog-others">Others</a>
    
      <a class="main-nav-link" href="/blog-frontend/about">About</a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CSS@3继承优先级
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <h2 id="CSS的继承、优先级、层叠"><a href="#CSS的继承、优先级、层叠" class="headerlink" title="CSS的继承、优先级、层叠"></a>CSS的继承、优先级、层叠</h2><h3 id="CSS的继承"><a href="#CSS的继承" class="headerlink" title="CSS的继承"></a>CSS的继承</h3><p>有些元素的样式是可以被子元素继承的，大概包括这些，其中橙色的是文本相关的，蓝色的是列表相关的：</p>
<ul>
<li><span style="font-family: consolas;">azimuth</span></li>
<li><span style="font-family: consolas;">border-collapse</span></li>
<li><span style="font-family: consolas;">border-spacing</span></li>
<li><span style="font-family: consolas;">caption-side</span></li>
<li><span style="font-family: consolas; color:orange;">color</span></li>
<li><span style="font-family: consolas;">cursor</span></li>
<li><span style="font-family: consolas;">direction</span></li>
<li><span style="font-family: consolas;">elevation</span></li>
<li><span style="font-family: consolas;">empty-cells</span></li>
<li><span style="font-family: consolas; color:orange;">font-family</span></li>
<li><span style="font-family: consolas; color:orange;">font-size</span></li>
<li><span style="font-family: consolas; color:orange;">font-style</span></li>
<li><span style="font-family: consolas; color:orange;">font-variant</span></li>
<li><span style="font-family: consolas; color:orange;">font-weight</span></li>
<li><span style="font-family: consolas; color:orange;">font</span></li>
<li><span style="font-family: consolas; color:orange;">letter-spacing</span></li>
<li><span style="font-family: consolas; color:orange;">line-height</span></li>
<li><span style="font-family: consolas; color:blue;">list-style-image</span></li>
<li><span style="font-family: consolas; color:blue;">list-style-position</span></li>
<li><span style="font-family: consolas; color:blue;">list-style-type</span></li>
<li><span style="font-family: consolas; color:green;">list-style</span></li>
<li><span style="font-family: consolas;">orphans</span></li>
<li><span style="font-family: consolas;">pitch-range</span></li>
<li><span style="font-family: consolas;">pitch</span></li>
<li><span style="font-family: consolas;">quotes</span></li>
<li><span style="font-family: consolas;">richness</span></li>
<li><span style="font-family: consolas;">speak-header</span></li>
<li><span style="font-family: consolas;">speaknumeral</span></li>
<li><span style="font-family: consolas;">speak-punctuation</span></li>
<li><span style="font-family: consolas;">speak</span></li>
<li><span style="font-family: consolas;">speech-rate</span></li>
<li><span style="font-family: consolas;">stress</span></li>
<li><span style="font-family: consolas; color:orange;">text-align</span></li>
<li><span style="font-family: consolas; color:orange;">text-indent</span></li>
<li><span style="font-family: consolas;">text-transform</span></li>
<li><span style="font-family: consolas;">visibility</span></li>
<li><span style="font-family: consolas;">voice-family</span></li>
<li><span style="font-family: consolas;">volume</span></li>
<li><span style="font-family: consolas;">white-space</span></li>
<li><span style="font-family: consolas;">widows</span></li>
<li><span style="font-family: consolas; color:orange;">word-spacing</span></li>
</ul>
<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>经常会遇到的一个问题，如果多次对一个元素声明样式，到底哪次声明才有效呢？这就要考虑到优先级的问题了。一般来说会对每一次样式的声明都计算一次优先级权值，这个权值比较大的，拥有比较高的优先级，也就是说话最有权力，当然这只是比较简单的说法，具体的规则如下：</p>
<ol>
<li>每个选择器都有一个权值，权值越大的优先级越高。</li>
<li>权值相等时，后出现的覆盖先出现的。</li>
<li>用JS代码指定的样式，相当于增加了一段行内样式。</li>
<li><code>!important</code>规则的优先级最大（这条规则只适用于支持<code>!important</code>的浏览器，像IE6这样的就不支持）</li>
</ol>
<h4 id="规则一：关于选择器权值的计算"><a href="#规则一：关于选择器权值的计算" class="headerlink" title="规则一：关于选择器权值的计算"></a>规则一：关于选择器权值的计算</h4><ul>
<li>A. 行内样式数 * 1000（行内样式就是写在标签的<code>style</code>属性中的样式）</li>
<li>B. id选择器数量 * 100</li>
<li>C. 类、伪类选择器和属性选择器数量 * 10</li>
<li>D. 标签选择器和伪元素选择器数量 * 1</li>
</ul>
<p><strong>最终的权值 = A + B + C + D</strong><br>举个例子：<br><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="comment">/* #grandparent为ID选择器，权值为100；.parent和.child都是类选择器，权值为10；*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 权值 = 100 + 10 + 10 = 120*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#grandparent</span> <span class="selector-class">.parent</span> <span class="selector-class">.child</span>&#123;</span></span><br><span class="line"><span class="undefined">          color: red;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/* #grandparent为ID选择器，权值为100；.parent是类选择器，权值为20； p是标签选择器，权值为1*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 权值 = 100 + 10 + 1 = 111*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#grandparent</span> <span class="selector-class">.parent</span> <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="undefined">          color: blue;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/* #grandparent为ID选择器，权值为100， .child都是类选择器，权值为10；*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 权值 = 100 + 10 = 110*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#grandparent</span> <span class="selector-class">.child</span>&#123;</span></span><br><span class="line"><span class="undefined">          color: green;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"grandparent"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>Which color?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>所以最终的效果应该是，<code>which color？</code>呈现出红色。</p>
<h4 id="规则二：关于先后覆盖的一个例子"><a href="#规则二：关于先后覆盖的一个例子" class="headerlink" title="规则二：关于先后覆盖的一个例子"></a>规则二：关于先后覆盖的一个例子</h4><p>这个例子很简单，就是当权值一样的时候，后面的样式覆盖前面的样式。举例：<br><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#grandparent</span> <span class="selector-class">.child_b</span>&#123;</span></span><br><span class="line"><span class="undefined">          color: red;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#grandparent</span> <span class="selector-class">.child_a</span>&#123;</span></span><br><span class="line"><span class="undefined">          color: blue;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"grandparent"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"child_a child_b"</span>&gt;</span>Which color?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>当然，最后是呈现出蓝色的。</p>
<h4 id="规则三：使用JavaScript添加脚本的一个例子"><a href="#规则三：使用JavaScript添加脚本的一个例子" class="headerlink" title="规则三：使用JavaScript添加脚本的一个例子"></a>规则三：使用JavaScript添加脚本的一个例子</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#parent</span>&#123;</span></span><br><span class="line"><span class="undefined">        color: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"child"</span>&gt;</span>Which color?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var child = document.getElementById("child");</span></span><br><span class="line"><span class="undefined">        child.style.color = "blue";</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>最终的结果中，发现child元素多出了一行行内样式：<br><img src="http://jackie-image.oss-cn-hangzhou.aliyuncs.com/16-9-26/20024983.jpg" alt=""></p>
<h4 id="规则四：使用-important覆盖"><a href="#规则四：使用-important覆盖" class="headerlink" title="规则四：使用!important覆盖"></a>规则四：使用<code>!important</code>覆盖</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#parent</span> <span class="selector-id">#child</span>&#123;</span></span><br><span class="line"><span class="undefined">        color: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    p&#123;</span></span><br><span class="line"><span class="undefined">      color: yellow !important;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"child"</span> <span class="attr">sytle</span>=<span class="string">"color: blue"</span>&gt;</span>Which color?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这段代码，即便ID选择器和行内样式权值都很大，然而<code>!important</code>还是最有话语权；这样看来<code>!important</code>是不是有种钦定的感觉……</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/blog-frontend/2016/09/14/CSS@3继承优先级/" class="article-date">
  <time datetime="2016-09-14T08:17:20.000Z" itemprop="datePublished">2016-09-14</time>
</a>

        </li>
        
          <li>
            <span class="label">Category:</span>
            
  <div class="article-category">
    <a class="article-category-link" href="/blog-frontend/categories/前端笔记/">前端笔记</a>
  </div>


          </li>
        
        
          <li>
            <span class="label">Tag:</span>
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-frontend/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-frontend/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-frontend/tags/笔记/">笔记</a></li></ul>


          </li>
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/blog-frontend/2016/09/26/CSS@4单位/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          CSS@4单位
        
      </div>
    </a>
  
  
    <a href="/blog-frontend/2016/09/13/CSS@2选择器/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CSS@2选择器</div>
    </a>
  
</nav>


  
</article>








      </div>
      
    <footer id="footer" class="post-footer footer">
      
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>nothing</p>


      </div>
    </footer>

      





<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js"></script>


  <link rel="stylesheet" href="/blog-frontend/fancybox/jquery.fancybox.css">
  <script src="/blog-frontend/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog-frontend/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
